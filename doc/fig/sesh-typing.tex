\begin{figure*}
  \begin{mdframed}
    \usingnamespace{sesh}
    \begin{mathpar}
      \tmty{\retn}{\tylolli{T}{\mon{\pr(\ty{T})}{\bot}{T}}}

      \tmty{\bind}{\withconstraint{(\cs{q}<\cs{p'})}{\tylolli{\mon{p}{q}{T}}{\tylolli{(\tylolli{T}{\mon{p'}{q'}{U}})}{\mon{{p}\sqcap{p'}}{{q}\sqcup{q'}}{U}}}}}
      \\
      \tmty{\new}{\tylolli{\tyunit}{\mon{\top}{\bot}{\typrod{S}{\co{S}}}}}
      
      \tmty{\spawn}{\tylolli{(\tylolli{\tyunit}{\mon{p}{q}{\tyunit}})}{\mon{\top}{\bot}{\tyunit}}}
      \\
      \tmty{\send}{\tylolli{\typrod{T}{\tysend[{o}]{T}{S}}}{\mon{\top}{o}{S}}}
      
      \tmty{\recv}{\tylolli{\tyrecv[{o}]{T}{S}}{\mon{\top}{o}{\typrod{T}{S}}}}
      
      \tmty{\close}{\tylolli{\tyend[{o}]}{\mon{\top}{o}{\tyunit}}}
    \end{mathpar}
  \end{mdframed}
  \caption{Sesh, typing rules.}
  \label{fig:sesh-typing}
\end{figure*}